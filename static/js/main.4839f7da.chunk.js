(this["webpackJsonpreact_dynamic-list-of-todos"]=this["webpackJsonpreact_dynamic-list-of-todos"]||[]).push([[0],{14:function(e,t,s){},15:function(e,t,s){},16:function(e,t,s){},18:function(e,t,s){},19:function(e,t,s){"use strict";s.r(t);var c=s(5),n=s.n(c),r=s(4),a=s(6),o=s(7),l=s(9),d=s(8),i=s(1),u=s.n(i);s(14),s(15);function j(e){return fetch("".concat("https://mate.academy/students-api/users/").concat(e)).then((function(e){return e.json()}))}s(16);var h=s(3),b=s.n(h),m=s(0),p=function(e){var t=e.todos,s=e.selectedUserId,c=e.handleSelectUser;return Object(m.jsxs)("div",{className:"TodoList",children:[Object(m.jsx)("h2",{children:"Todos:"}),Object(m.jsx)("div",{className:"TodoList__list-container",children:Object(m.jsx)("ul",{className:"TodoList__list",children:t.map((function(e){return Object(m.jsxs)("li",{className:b()("TodoList__item",{"TodoList__item--checked":e.completed,"TodoList__item--unchecked":!e.completed}),children:[Object(m.jsxs)("label",{children:[Object(m.jsx)("input",{type:"checkbox",checked:e.completed,readOnly:!0}),Object(m.jsx)("p",{children:e.title})]}),Object(m.jsxs)("button",{onClick:function(){return c(e.userId)},className:b()("TodoList__user-button","button",{"TodoList__user-button--selected":s===e.userId}),type:"button",children:["User #",e.userId]})]},e.id)}))})})]})},f=(s(18),function(e){var t=e.selectedUser,s=e.clearSelectedUser;return Object(m.jsxs)(m.Fragment,{children:[t?Object(m.jsxs)("div",{className:"CurrentUser",children:[Object(m.jsx)("h2",{className:"CurrentUser__title",children:Object(m.jsx)("span",{children:"Selected user: ".concat(t.id)})}),Object(m.jsx)("h3",{className:"CurrentUser__name",children:t.name}),Object(m.jsx)("p",{className:"CurrentUser__email",children:t.email}),Object(m.jsx)("p",{className:"CurrentUser__phone",children:t.phone}),Object(m.jsx)("br",{})]}):Object(m.jsx)("span",{children:"User not found"}),Object(m.jsx)("button",{onClick:s,type:"button",className:"button TodoList__user-button--selected clear-button",children:"Clear"})]})}),O=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(a.a)(this,s);for(var c=arguments.length,n=new Array(c),o=0;o<c;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={selectedUserId:0,todos:[],selectedUserInfo:null,sortByStatus:"all",sortByName:""},e.filterTodos=function(){var t,s=e.state,c=s.todos,n=s.sortByStatus,a=s.sortByName;switch(n){case"active":t=c.filter((function(e){return!e.completed}));break;case"completed":t=c.filter((function(e){return e.completed}));break;default:t=Object(r.a)(c)}return t.filter((function(e){return e.title.toLowerCase().includes(a.toLocaleLowerCase())}))},e.handleSelectUser=function(t){e.setState({selectedUserId:t}),t!==e.state.selectedUserId&&j(t).then((function(t){e.setState({selectedUserInfo:t})}))},e.clearSelectedUser=function(){e.setState({selectedUserId:0})},e.handleSelectSortBy=function(t){var s=t.target.value;e.setState({sortByStatus:s})},e.handleSortByName=function(t){var s=t.target.value;e.setState({sortByName:s})},e}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=this;fetch("https://mate.academy/students-api/todos").then((function(e){return e.json()})).then((function(t){e.setState({todos:Object(r.a)(t)})}))}},{key:"render",value:function(){var e=this.state,t=e.selectedUserId,s=e.selectedUserInfo;return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsxs)("div",{className:"App__sidebar",children:[Object(m.jsxs)("span",{children:["Status:",Object(m.jsxs)("select",{value:this.state.sortByStatus,onChange:this.handleSelectSortBy,children:[Object(m.jsx)("option",{value:"all",children:"All"}),Object(m.jsx)("option",{value:"completed",children:"Completed"}),Object(m.jsx)("option",{value:"active",children:"Not completed"})]}),Object(m.jsx)("br",{}),"Find by name:",Object(m.jsx)("input",{type:"text",value:this.state.sortByName,onChange:this.handleSortByName})]}),Object(m.jsx)(p,{todos:this.filterTodos(),selectedUserId:t,handleSelectUser:this.handleSelectUser})]}),Object(m.jsx)("div",{className:"App__content",children:Object(m.jsx)("div",{className:"App__content-container",children:t?Object(m.jsx)(f,{selectedUser:s,clearSelectedUser:this.clearSelectedUser}):"No user selected"})})]})}}]),s}(u.a.Component),x=O;n.a.render(Object(m.jsx)(x,{}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.4839f7da.chunk.js.map